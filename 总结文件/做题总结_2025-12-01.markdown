**做题总结 — 2025-12-01**

本文档汇总了最近完成的题目，给出每题的核心思路、复杂度估算、注意点和当前状态（是否需要补测或复习）。

所有题目已按类型分类存放在 `luogu/` 对应的子文件夹中。

---

**Luogu P2661 NOIP2015 信息传递** `[luogu/环检测/]`:
- **题目类型**: 环/链检测，最短环/环长
- **主要思路**: 并查集维护到根的距离（带距离的并查），或 DFS 标记并记录入栈序号检测环长
- **复杂度**: O(n)
- **关键点**: 并查时累积距离，DFS 中 vis 三色标记检测环
- **状态**: 已实现，建议用样例验证最小环长边界

**Luogu P2789 直线交点数** `[luogu/组合数学/]`:
- **题目类型**: 计数 / DP 或分拆和枚举
- **主要思路**: 枚举分组（平行组数量 r），把子问题交点数传递回来；也可用分拆 + dfs 枚举 r 的分割
- **复杂度**: 取决枚举范围，N ≤ 25 可行
- **关键点**: 状态转移要覆盖所有可能的子问题交点数
- **状态**: 已实现 DFS 枚举版本

**Luogu P2822 组合数问题** `[luogu/组合数学/]`:
- **题目类型**: 组合数预处理 + 前缀求和
- **主要思路**: 预处理 C[n][k] mod k，然后构造前缀二维和 s[i][j]
- **复杂度**: 预处理 O(MAX^2)，查询 O(1)
- **关键点**: 注意模 k 的含义；数组边界 2000
- **状态**: 已实现，注意内存与 long long 边界

**Luogu P2853 USACO Cow Picnic** `[luogu/BFS与DFS/]`:
- **题目类型**: 多源 DFS / 统计能被所有奶牛访问的节点数
- **主要思路**: 对每只奶牛做一次 DFS，统计每个节点的到达计数，最后统计计数 == k 的节点数量
- **复杂度**: O(k*(n+m))
- **关键点**: 清空 visited 用 `fill` 而不是 `memset`；统计数组 `cnt` 维护到达次数
- **状态**: 已实现并修复 `memset` 问题

**Luogu P2926 Patting Heads** `[luogu/倍数统计/]`:
- **题目类型**: 约数统计 / 频次数组卷积样式
- **主要思路**: 用 cnt[val] 统计出现次数，再对每个 i 把 cnt[i] 加到其倍数上（类似筛法），查询时输出 w[num]-1
- **复杂度**: O(MAX * log MAX?) 实际为约 O(MAX log MAX) 或 ∑ MAX/i
- **关键点**: 注意 MAXN 边界与数组初始化
- **状态**: 已实现

**Luogu P1017 NOIP 进制转换（含负数基）** `[luogu/进制转换/]`:
- **题目类型**: 进制转换（负基也适配）
- **主要思路**: 逐次取余，调整负余数，再 reverse 输出结果
- **复杂度**: O(log_R |n|)
- **关键点**: C++ 取模对负数的定义，需手工调整 r 和 q；当 num==0 输出单个 0
- **状态**: 已实现并修复负数模问题

**Luogu P1100 高低位交换** `[luogu/位运算/]`:
- **题目类型**: 位运算 / 字符串位处理
- **主要思路**: 将 n 转成 32 位二进制字符串，交换高低 16 位后转回整数
- **复杂度**: O(32)
- **关键点**: 注意补齐到 32 位、字符串逆序以及类型转换
- **状态**: 已实现

**Luogu P1113 杂务（记忆化搜索）** `[luogu/记忆化搜索与DP/]`:
- **题目类型**: 有向带权图最长路（DAG / 记忆化 DFS）
- **主要思路**: 对每个节点做记忆化 DFS（dfs 返回以该节点为起点的最大代价），缓存结果
- **复杂度**: O(n + m)
- **关键点**: 区分 vis[] 作为 memo（值非 0 表示已计算）；慎防环（题目保证 DAG）
- **状态**: 已实现，文件 `Luogu_P_1113_杂务.cpp` 当前正在编辑区，可直接编译测试

**Luogu P1127 词链（欧拉路径）** `[luogu/欧拉路径/]`:
- **题目类型**: 字符串图建边 + 欧拉路径（Hierholzer）
- **主要思路**: 单词先排序以保证字典序最小，建 26 个顶点，单词作为有向边，用 Hierholzer 得到路径
- **复杂度**: O(N log N + N + 边数)
- **关键点**: 排序保证字典序最小，检查连通性与入出度条件，输出时以 "." 连接
- **状态**: 已实现，注意边遍历顺序与 visited 标记

**Luogu P1143 进制转换** `[luogu/进制转换/]`:
- **题目类型**: 任意基间转换
- **主要思路**: 先将输入字符串按原基转换为十进制（或任意大基的 long long），再除以目标基取余得到低位，最后 reverse
- **复杂度**: O(len(s) + log_m num)
- **关键点**: get_num/get_char 的映射，处理 num==0，解释为什么需要翻转（取余得到低位优先）
- **状态**: 已实现，逻辑清晰

**Luogu P1246 编码** `[luogu/组合数学/]`:
- **题目类型**: 字典序 + 组合数计数
- **主要思路**: 先判断严格单增字母序列，然后用组合数计算比它短的方案与按位计数
- **复杂度**: O(len^2)
- **关键点**: 预处理组合数 C[n][k]，字符映射和越界检查
- **状态**: 已实现

**Luogu P1330 封锁阳光大学（二分图染色）** `[luogu/图论着色/]`:
- **题目类型**: 二分图判定 + 连通块最小选点
- **主要思路**: DFS/BFS 染色，若冲突输出 Impossible，否则每个连通块取 min(cnt0,cnt1)
- **复杂度**: O(n + m)
- **关键点**: 注意图可能不连通，计数清零与染色返回值
- **状态**: 已实现

**Luogu P1363 幻象迷宫** `[luogu/网格DFS/]`:
- **题目类型**: 无限平面映射到有限格子的可达性（环检测）
- **主要思路**: 坐标可无限延伸，取模映射到原网格；记录第一次到达点的“真实坐标”，若再次到达且真实坐标不同则出现穿越
- **复杂度**: 取决可达区域大小，最坏 O(n*m)（映射后的格子数）
- **关键点**: 坐标取模时处理负数；记录真实坐标的 pair 来判断“穿越”而非简单重访
- **状态**: 已实现

**Luogu P1469 找筷子（异或）** `[luogu/异或技巧/]`:
- **题目类型**: 异或求众数/找缺失等
- **主要思路**: 全异或，答案为所有数异或结果
- **复杂度**: O(n)
- **关键点**: 无符号/有符号类型注意
- **状态**: 已实现

**Luogu P1807 最长路（1→n）** `[luogu/记忆化搜索与DP/]`:
- **题目类型**: 有向无环图最长路径（记忆化）
- **主要思路**: 记忆化 DFS，从 1 出发只关心是否能到达 n；用 -INF 表示不可达
- **复杂度**: O(n + m)
- **关键点**: 返回值判定不可达的哨兵值，避免把不可达路径误算进最大值
- **状态**: 已实现并修正不可达判断

**Luogu P1866 编号** `[luogu/贪心与数学/]`:
- **题目类型**: 贪心排序 + 乘法计数（取模）
- **主要思路**: 排序后 ans *= (v[i] - i) mod M
- **复杂度**: O(n log n)
- **关键点**: 取模时注意为负数时的处理
- **状态**: 已实现

**Luogu P2638 安全系统（大整数组合）** `[luogu/组合数学/]`:
- **题目类型**: 大整数组合数（使用 __int128）
- **主要思路**: 计算 C[n+a][a] * C[n+b][b]，用 __int128 存结果并手写打印
- **复杂度**: O((n+max(a,b))^2)
- **关键点**: 输出 __int128 需手动转换为字符串
- **状态**: 已实现

**Luogu P3913 车的攻击** `[luogu/贪心与数学/]`:
- **题目类型**: 集合/坐标去重计数
- **主要思路**: 统计被攻击的行/列集合大小，答案为 (|rows|+|cols|)*n - |rows|*|cols|
- **复杂度**: O(k)
- **关键点**: 使用 unordered_set 存 x 和 y
- **状态**: 已实现

**Luogu P4017 最大食物链计数** `[luogu/拓扑排序/]`:
- **题目类型**: 有向无环图路径计数（拓扑）
- **主要思路**: 拓扑排序 + 动态规划 f[v]+=f[u]，初始入度 0 节点 f=1，答案为所有出度为 0 的 f
- **复杂度**: O(n + m)
- **关键点**: 模数 80112002，注意模加法与入度更新
- **状态**: 已实现

**Luogu P5318 查找文献（DFS/BFS）** `[luogu/BFS与DFS/]`:
- **题目类型**: 图遍历，要求按编号小的优先遍历
- **主要思路**: 邻接表排序后分别做 DFS（递归）和 BFS；注意使用 vector<vector<int>> 而非 VLA
- **复杂度**: O(n + m)
- **关键点**: 邻接表排序确保访问顺序；递归 lambda 的声明方式
- **状态**: 已实现

---

**分类目录结构**:
```
luogu/
├── 进制转换/          # P1017, P1143
├── 位运算/            # P1100
├── 记忆化搜索与DP/    # P1113, P1807
├── 欧拉路径/          # P1127
├── 组合数学/          # P1246, P2638, P2789, P2822
├── 图论着色/          # P1330
├── 网格DFS/           # P1363
├── 异或技巧/          # P1469
├── 贪心与数学/        # P1866, P3913
├── 拓扑排序/          # P4017
├── 环检测/            # P2661
├── 倍数统计/          # P2926
└── BFS与DFS/          # P2853, P5318
```

---

**总体建议 / 后续动作**:
- **快速编译测试**: 我可以帮你对感兴趣的若干文件做一次编译和样例运行（例如 `Luogu_P_1113_杂务.cpp`, `Luogu_P_1807_最长路.cpp`, `Luogu_P_2853_USACO_06_DEC_Cow_Picnic_S.cpp`）。
- **标记复习题**: 把涉及并查集、dfs 记忆化、拓扑 DP、组合数等核心题标注为“复习优先”。
- **单元样例**: 若你有样例输入/输出，我可以把它们放到对应 `input.txt` 并运行，或写小脚本批量测试。

文件已保存为 `总结文件/做题总结_2025-12-01.markdown`。
